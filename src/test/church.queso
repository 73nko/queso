fn church_numeral_to_int(n): {
  fn incr(x): { x + 1 };
  n(incr)(0)
};

fn zero(f): { 
  fn g(x): { x };
  g
};

fn succ(n): {
  fn result(f): {
    fn g(x): { f(n(f)(x)) };
    g
  };
  result
};

fn plus(n): {
  fn plus_n(m): {
    fn result(f): {
      fn g(x): { n(f)(m(f)(x)) };
      g
    };
    result
  };
  plus_n
};

trace church_numeral_to_int(succ(succ(zero))) == 2;

trace church_numeral_to_int(plus(succ(succ(zero)))(succ(succ(zero)))) == 4